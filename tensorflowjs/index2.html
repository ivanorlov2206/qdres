<html>
  <head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
    <script src="nn_stuff.js"></script>

    <div id="test_div"></div>
    <!--<canvas id="canv" width="128" height="64" style="background-color: #000000;"></canvas><br>-->
    <button id="send">Определить</button><button id="clear">Стереть</button><br><br>
    <span style="font-size: 25dp" id="result">Загрузка модели...</span><br>
    <span style="font-size: 25dp" id="time"></span><br><br>
  </head>
  <body style="touch-action: none;">
    <script>
      (async () => {

        document.getElementById("result").innerHTML = "";

        var predictor = createPredictor(document.getElementById("test_div"), 224, 224);

          clear.addEventListener("click", function() {
              predictor.clear_canvas();
          });
          var snd = document.getElementById("send");
          snd.addEventListener("click", function() {
            (async () => {
              var res = await predictor.predict('spider', 'http://localhost:8000/models/');
              document.getElementById("result").innerHTML = "Prob: " + res;
            })();
          });
      })();


    </script>
  </body>

</html>
